{% extends "template.html.twig" %}
{% block title %}Blog{% endblock %}

{% block content %}
<!-- Posts -->        
<div class="container">
	<div class="section">
        {% for post in posts %}		{# Recover the first three post #}
            <article>
            	<div class="row">
            		<div class="col s12">
            			<h5 class="class="grey-text-darken-2"">{{ post.title }}</h5>
            			<h6 class="grey-text">Par: {{ post.author.username }} Le: {{ post.date|date("d/m/Y H:i:s") }}</h6>
            			<div class="row">
            				<div class="col s12 m6 l8">
            					<p>{{ post.content[:500]|raw }}<a href="{{ path('post', { 'id': post.id }) }}"><strong>...</strong></a></p>
            				</div>
            				<div class="col s12 m6 l4">
            					<img class="materialboxed responsive-img activator" src="{{ post.media.1 }}/{{ post.media.0 }}" alt="{{ post.media.0 }}">
            					<br/><br/>
            					<a class="btn light-teal waves-effect wave-light" href="{{ path('post', { 'id': post.id }) }}">Lire l'article complet</a>
            				</div>
            			</div>
            		</div>
            	</div>
            </article>
        {% endfor %}
    </div>
</div>
{% endblock %}