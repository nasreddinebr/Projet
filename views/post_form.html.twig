{% extends 'template_backoffice.html.twig' %}
{% set adminMenu = true %}
{% block title %} {{ title }} {% endblock %}
{% block content %}
    <div class="container">
    	<h2>{{ block('title') }}</h2>
    	{# Display the confirmation message if the post is correctly saved #}
        {% for flashMessage in app.session.flashbag.get('success') %}
    		<div class="card-panel teal lighten-5">
    			<span class="teal-text darken-4"><strong>{{ flashMessage }}</strong></span>
    		</div>
        {% endfor %}
        
    	{{ form_start(postForm, { 'attr': {'class': 'col s12'}}) }}
    		<div class="row">
    			<div class="input-field col s12">
    				{{ form_errors(postForm.title) }}
    				{{ form_widget(postForm.title, { 'attr': {
    				    'class': 'form-control',
    				    'name' : 'title',
    				    'id'   : 'title'
    				}}) }}
    				<label for="title">Titre</label>
    			</div>  	
     
        		<div class="input-field col s12">
        			{{ form_errors(postForm.content) }}
        			{{ form_widget(postForm.content, { 'attr': {
        			    'class'    : 'materialize-textarea postedit',
                    	'rows'     : '8'
        			}}) }}
        		</div>
        		
        		{# Upload an image#}
            	<div class="col s12">
            		<div class="file-field input-field">
      					<div class="btn light-blue col s2">
        					<span>File</span>
        					{{ form_errors(postForm.media) }}
        			        {{ form_widget(postForm.media, { 'attr': {
                    			'name'     : 'public',
                    			'id'       : 'public'
        			        }}) }}
      					</div>
      					<div class="file-path-wrapper">
        					<input class="file-path validate" type="text" placeholder="Upload one or more files">
      					</div>
    				</div>
            	</div>
            	
            	{# switch for publish a post or no  #}
            	<div class="col s6">
            		<p>publier</p>
            		<div class="switch">
            			<label>
            				Non
            				{{ form_errors(postForm.publish) }}
        			        {{ form_widget(postForm.publish, { 'attr': {
                    			'name'     : 'public',
                    			'id'       : 'public'
        			        }}) }}
            				<span class="lever light-blue"></span>
            				Oui
            			</label>
            		</div>
            	</div>
                <div class="col s6 right-align">
                	<br/><br/>
                	<button type="submit" class="waves-effect waves-light btn light-blue">Enregistrer</button>
                </div>
    		</div>
    			
        {{ form_end(postForm) }}   
    </div>
{% endblock %}